{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./main.js","webpack:///./toy-react.js"],"names":["Square","props","onClick","value","Component","Board","i","squares","renderSquare","Game","state","history","Array","fill","stepNumber","xIsNext","slice","current","length","calculateWinner","setState","concat","step","winner","moves","map","move","desc","jumpTo","status","handleClick","render","document","getElementById","lines","a","b","c","RENDER_TO_DOM","Symbol","Object","create","children","_root","_range","name","component","push","range","_vdom","vdom","isSameNode","oldNode","newNode","type","keys","content","update","newChildren","vchildren","oldChildren","tailRange","newChild","oldChild","createRange","setStart","endContainer","endOffset","setEnd","newState","merge","oldState","k","ElementWrapper","root","createElement","match","addEventListener","RegExp","$1","replace","toLowerCase","setAttribute","child","childRange","childNodes","relplaceContent","TextWrapper","createTextNode","node","insertNode","setStartAfter","deleteContents","setStartBefore","setEndAfter","attributes","e","insertChildren","childs","isArray","appendChild","parentElement"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./main.js\");\n","import { createElement, Component, render } from './toy-react';\r\n\r\nclass Square extends Component {\r\n    render() {\r\n        return (\r\n            <button className=\"square\" onClick={this.props.onClick}>\r\n                {this.props.value}\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\nclass Board extends Component {\r\n    renderSquare(i) {\r\n        return (\r\n            <Square\r\n                value={this.props.squares[i]}\r\n                onClick={() => this.props.onClick(i)}\r\n            />\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"board-row\">\r\n                    {this.renderSquare(0)}\r\n                    {this.renderSquare(1)}\r\n                    {this.renderSquare(2)}\r\n                </div>\r\n                <div className=\"board-row\">\r\n                    {this.renderSquare(3)}\r\n                    {this.renderSquare(4)}\r\n                    {this.renderSquare(5)}\r\n                </div>\r\n                <div className=\"board-row\">\r\n                    {this.renderSquare(6)}\r\n                    {this.renderSquare(7)}\r\n                    {this.renderSquare(8)}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Game extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            history: [\r\n                {\r\n                    squares: Array(9).fill(null)\r\n                }\r\n            ],\r\n            stepNumber: 0,\r\n            xIsNext: true\r\n        };\r\n    }\r\n\r\n    handleClick(i) {\r\n        const history = this.state.history.slice(0, this.state.stepNumber + 1);\r\n        const current = history[history.length - 1];\r\n        const squares = current.squares.slice();\r\n        if (calculateWinner(squares) || squares[i]) {\r\n            return;\r\n        }\r\n        squares[i] = this.state.xIsNext ? \"X\" : \"O\";\r\n        this.setState({\r\n            history: history.concat([\r\n                {\r\n                    squares: squares\r\n                }\r\n            ]),\r\n            stepNumber: history.length,\r\n            xIsNext: !this.state.xIsNext\r\n        });\r\n    }\r\n\r\n    jumpTo(step) {\r\n        this.setState({\r\n            stepNumber: step,\r\n            xIsNext: (step % 2) === 0\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const history = this.state.history;\r\n        const current = history[this.state.stepNumber];\r\n        const winner = calculateWinner(current.squares);\r\n\r\n        const moves = history.map((step, move) => {\r\n            const desc = move ?\r\n                'Go to move #' + move :\r\n                'Go to game start';\r\n            return (\r\n                <li key={move}>\r\n                    <button onClick={() => this.jumpTo(move)}>{desc}</button>\r\n                </li>\r\n            );\r\n        });\r\n\r\n        let status;\r\n        if (winner) {\r\n            status = \"Winner: \" + winner;\r\n        } else {\r\n            status = \"Next player: \" + (this.state.xIsNext ? \"X\" : \"O\");\r\n        }\r\n\r\n        return (\r\n            <div className=\"game\">\r\n                <div className=\"game-board\">\r\n                    <Board\r\n                        squares={current.squares}\r\n                        onClick={i => this.handleClick(i)}\r\n                    />\r\n                </div>\r\n                <div className=\"game-info\">\r\n                    <div>{status}</div>\r\n                    <ol>{moves}</ol>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// ========================================\r\n\r\nrender(<Game />, document.getElementById(\"root\"));\r\n/* let game = <Game />;\r\nconsole.log(game) */\r\nfunction calculateWinner(squares) {\r\n    const lines = [\r\n        [0, 1, 2],\r\n        [3, 4, 5],\r\n        [6, 7, 8],\r\n        [0, 3, 6],\r\n        [1, 4, 7],\r\n        [2, 5, 8],\r\n        [0, 4, 8],\r\n        [2, 4, 6]\r\n    ];\r\n    for (let i = 0; i < lines.length; i++) {\r\n        const [a, b, c] = lines[i];\r\n        if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n            return squares[a];\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*\r\nV1.0.0\r\nclass MyComponent extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            a: 1,\r\n            b: 2\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1>\r\n                    MyComponent\r\n                </h1>\r\n                <button onClick={() => {\r\n                    this.setState({\r\n                        a: this.state.a + 1\r\n                    })\r\n                }}>add</button>\r\n                <p>{this.state.a.toString()}</p>\r\n                <p>{this.state.b.toString()}</p>\r\n                {this.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nrender(<MyComponent id='my' class='cl'>\r\n    <div>\r\n        root 666\r\n    </div>\r\n    <div>\r\n        root 888\r\n    </div>\r\n</MyComponent >, document.body) */\r\n\r\n/* 0.0.1 function createElement(type, attr, ...children) {\r\n    console.log(type, attr, ...children)\r\n}\r\n\r\nlet a = <div>\r\n    <p>1</p>\r\n    <p>aaa</p>\r\n</div>\r\n\r\nconsole.log(a) */","const RENDER_TO_DOM = Symbol('render to dom');\r\n\r\nexport class Component {\r\n    constructor() {\r\n        this.props = Object.create(null)\r\n        this.children = [];\r\n        this._root = null;\r\n        this._range = null;\r\n    }\r\n\r\n    setAttribute(name, value) {\r\n        this.props[name] = value\r\n    }\r\n\r\n    appendChild(component) {\r\n        this.children.push(component)\r\n    }\r\n\r\n    [RENDER_TO_DOM](range) {\r\n        this._range = range;\r\n        this._vdom = this.vdom;\r\n        this._vdom[RENDER_TO_DOM](range);\r\n    }\r\n\r\n    // 比对部分渲染diff V1.0.1\r\n    update() {\r\n\r\n        let isSameNode = (oldNode, newNode) => {\r\n\r\n            // 类型不同\r\n            if (oldNode.type !== newNode.type) {\r\n                return false\r\n            }\r\n\r\n            // 参数不同\r\n            for (let name in newNode.props) {\r\n                if (newNode.props[name] !== oldNode.props[name]) {\r\n                    return false\r\n                }\r\n            }\r\n\r\n            // 参数数量不同\r\n            if (Object.keys(oldNode.props).length > Object.keys(newNode.props).length) {\r\n                return false\r\n            }\r\n\r\n            // 文本节点内容不同\r\n            if (newNode.type === \"#text\") {\r\n                if (newNode.content !== oldNode.content) {\r\n                    return false\r\n                }\r\n            }\r\n\r\n            return true\r\n        }\r\n\r\n        let update = (oldNode, newNode) => {\r\n            // 对比的 type, props, children\r\n            // #text content\r\n            if (!isSameNode(oldNode, newNode)) {\r\n                newNode[RENDER_TO_DOM](oldNode._range)\r\n                return;\r\n            }\r\n\r\n            newNode._range = oldNode._range\r\n            // children 处理\r\n            let newChildren = newNode.vchildren;\r\n            let oldChildren = oldNode.vchildren;\r\n\r\n            if (!newChildren || !newChildren.length) {\r\n                return;\r\n            }\r\n\r\n            let tailRange = oldChildren[oldChildren.length - 1]._range;\r\n\r\n            for (let i = 0; i < newChildren.length; i++) {\r\n\r\n                let newChild = newChildren[i];\r\n                let oldChild = oldChildren[i];\r\n\r\n                if (i < oldChildren.length) {\r\n                    update(oldChild, newChild)\r\n                } else {\r\n                    let range = document.createRange();\r\n                    range.setStart(tailRange.endContainer, tailRange.endOffset)\r\n                    range.setEnd(tailRange.endContainer, tailRange.endOffset)\r\n                    newChild[RENDER_TO_DOM](range)\r\n                    tailRange = range;\r\n                    // TODO\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        let vdom = this.vdom;\r\n        update(this._vdom, vdom)\r\n        this._vdom = vdom\r\n    }\r\n\r\n    /* V1.0.0    rerender() { 全部重新渲染\r\n            let oldRange = this._range;\r\n    \r\n            // 创建新得range \r\n            let range = document.createRange();\r\n            range.setStart(oldRange.startContainer, oldRange.startOffset);\r\n            range.setEnd(oldRange.startContainer, oldRange.startOffset);\r\n            this[RENDER_TO_DOM](range)\r\n    \r\n            // 处理旧的 range\r\n            oldRange.setStart(range.endContainer, range.endOffset);\r\n            oldRange.deleteContents();\r\n        } */\r\n\r\n    setState(newState) {\r\n        if (this.state === null || typeof this.state !== \"object\") {\r\n            this.state = newState\r\n            //this.rerender();\r\n            this.update()\r\n            return;\r\n        }\r\n\r\n        let merge = (oldState, newState) => {\r\n            for (let k in newState) {\r\n                if (oldState[k] === null || typeof oldState[k] !== \"object\") {\r\n                    oldState[k] = newState[k];\r\n                } else {\r\n                    merge(oldState[k], newState[k]);\r\n                }\r\n            }\r\n        }\r\n\r\n        merge(this.state, newState)\r\n        this.update();\r\n    }\r\n\r\n    get vdom() {\r\n        return this.render().vdom;\r\n    }\r\n\r\n    /*     get vchildren() {\r\n            return this.children.map(child => child.vdom)\r\n        } */\r\n\r\n    /* V1.0\r\n    get root() {\r\n        if (!this._root) {\r\n            this._root = this.render().root;\r\n        }\r\n        return this._root;\r\n    } */\r\n}\r\n\r\n\r\nclass ElementWrapper extends Component {\r\n    constructor(type) {\r\n        super(type)\r\n        this.type = type;\r\n        // this.root = document.createElement(type);\r\n    }\r\n\r\n    /*     setAttribute(name, value) { v1.0.0\r\n            // 匹配注册事件\r\n            if (name.match(/^on([\\s\\S]+)$/)) {\r\n                this.root.addEventListener(RegExp.$1.replace(/^[\\s\\S]/, c => c.toLowerCase()), value)\r\n            } if (name === 'className') {\r\n                this.root.setAttribute(\"class\", value)\r\n            } else {\r\n                this.root.setAttribute(name, value)\r\n            }\r\n        }\r\n    \r\n        appendChild(component) { v1.0.0\r\n            //v1.0 this.root.appendChild(component.root)\r\n            let range = document.createRange();\r\n            range.setStart(this.root, this.root.childNodes.length)\r\n            range.setEnd(this.root, this.root.childNodes.length)\r\n            component[RENDER_TO_DOM](range)\r\n        } */\r\n\r\n    get vdom() {\r\n        this.vchildren = this.children.map(child => child.vdom)\r\n        return this;\r\n        /* return {\r\n            type: this.type,\r\n            props: this.props,\r\n            children: this.children.map(child => child.vdom)\r\n        } */\r\n    }\r\n\r\n    // 虚拟dom 到 实体 dom\r\n    [RENDER_TO_DOM](range) {\r\n        this._range = range;\r\n        //  range.deleteContents();\r\n        // range.insertNode(this.root);\r\n\r\n        let root = document.createElement(this.type)\r\n        // range.insertNode(root)\r\n        for (let name in this.props) {\r\n            let value = this.props[name]\r\n            if (name.match(/^on([\\s\\S]+)$/)) {\r\n                root.addEventListener(RegExp.$1.replace(/^[\\s\\S]/, c => c.toLowerCase()), value)\r\n            } if (name === 'className') {\r\n                root.setAttribute(\"class\", value)\r\n            } else {\r\n                root.setAttribute(name, value)\r\n            }\r\n        }\r\n\r\n        if (!this.vchildren) {\r\n            this.vchildren = this.children.map(child => child.vdom)\r\n        }\r\n\r\n\r\n        for (let child of this.vchildren) {\r\n            let childRange = document.createRange();\r\n            childRange.setStart(root, root.childNodes.length)\r\n            childRange.setEnd(root, root.childNodes.length)\r\n            child[RENDER_TO_DOM](childRange)\r\n        }\r\n\r\n        relplaceContent(range, root)\r\n        // range.insertNode(root);\r\n    }\r\n}\r\n\r\nclass TextWrapper extends Component {\r\n    constructor(content) {\r\n        super(content)\r\n        this.type = \"#text\"\r\n        this.content = content;\r\n        // this.root = document.createTextNode(content)\r\n    }\r\n\r\n    [RENDER_TO_DOM](range) {\r\n        this._range = range;\r\n        // range.deleteContents();\r\n        // range.insertNode(this.root);\r\n        let root = document.createTextNode(this.content)\r\n        relplaceContent(range, root)\r\n    }\r\n\r\n    get vdom() {\r\n        return this;\r\n        /* return {\r\n            type: \"#text\",\r\n            content: this.content\r\n        } */\r\n    }\r\n}\r\n\r\nfunction relplaceContent(range, node) {\r\n    range.insertNode(node)\r\n    range.setStartAfter(node)\r\n    range.deleteContents();\r\n\r\n    range.setStartBefore(node)\r\n    range.setEndAfter(node)\r\n}\r\n\r\n\r\nexport function createElement(type, attributes, ...children) {\r\n\r\n    let e;\r\n\r\n    if (typeof type === 'string') {\r\n        e = new ElementWrapper(type)\r\n    } else {\r\n        e = new type();\r\n    }\r\n\r\n    for (let a in attributes) {\r\n        e.setAttribute(a, attributes[a])\r\n    }\r\n\r\n\r\n    let insertChildren = (childs) => {\r\n        for (let child of childs) {\r\n            if (typeof child === 'string') {\r\n                child = new TextWrapper(child)\r\n                // e.appendChild(child)\r\n            }\r\n\r\n            if (child === null) {\r\n                continue;\r\n            }\r\n\r\n            if (Array.isArray(child)) {\r\n                insertChildren(child)\r\n            } else {\r\n                e.appendChild(child)\r\n            }\r\n        }\r\n    }\r\n\r\n    insertChildren(children)\r\n\r\n\r\n    return e\r\n}\r\n\r\nexport function render(component, parentElement) {\r\n    // v1.0 parentElement.appendChild(component.root)\r\n    let range = document.createRange();\r\n    range.setStart(parentElement, 0)\r\n    range.setEnd(parentElement, parentElement.childNodes.length)\r\n    range.deleteContents();\r\n    component[RENDER_TO_DOM](range)\r\n}"],"sourceRoot":""}